{% extends 'base.html.twig' %}

{% block title %}Nouvelle R√©clamation - SitMyPet{% endblock %}

{% block body %}
<div class="reclamations-container" style="max-width: 800px;">
    
    {# EN-T√äTE #}
    <div class="page-header">
        <a href="{{ path('app_reclamation_index') }}" style="color: #7c3aed; text-decoration: none; font-weight: 600; display: inline-block; margin-bottom: 15px;">
            ‚Üê Retour √† la liste
        </a>
        <h1>‚úçÔ∏è Nouvelle R√©clamation</h1>
        <p>Remplissez le formulaire ci-dessous pour cr√©er une nouvelle r√©clamation</p>
    </div>

    {# FORMULAIRE #}
    <div class="form-card">
        
        {{ form_start(form) }}

        {# ERREURS GLOBALES #}
        {% if not form.vars.valid %}
            <div class="alert alert-danger">
                <h4 style="margin: 0 0 10px 0; font-size: 16px;">‚ö†Ô∏è Erreurs de validation :</h4>
                <ul style="margin: 0; padding-left: 20px;">
                    {% for child in form.children %}
                        {% for error in child.vars.errors %}
                            <li><strong>{{ child.vars.label }}:</strong> {{ error.message }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        {# SECTION CLIENT #}
        <div class="form-section">
            <div class="form-section-title">üë§ Informations du Client</div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Nom complet <span style="color: #ef4444;">*</span></label>
                    {{ form_widget(form.nomClient, {'attr': {'class': 'form-control'}}) }}
                </div>

                <div class="form-group">
                    <label>Email <span style="color: #ef4444;">*</span></label>
                    {{ form_widget(form.emailClient, {'attr': {'class': 'form-control'}}) }}
                </div>
            </div>
        </div>

        {# SECTION R√âCLAMATION #}
        <div class="form-section">
            <div class="form-section-title">üìù D√©tails de la R√©clamation</div>

            <div class="form-group">
                <label>Sujet <span style="color: #ef4444;">*</span></label>
                {{ form_widget(form.sujet, {'attr': {'class': 'form-control'}}) }}
                <small style="color: #999; font-size: 12px; display: block; margin-top: 5px;">Minimum 10 caract√®res</small>
            </div>

            <div class="form-group">
                <label>Description d√©taill√©e <span style="color: #ef4444;">*</span></label>
                {{ form_widget(form.description, {'attr': {'class': 'form-control', 'rows': '5'}}) }}
                <small style="color: #999; font-size: 12px; display: block; margin-top: 5px;">Minimum 20 caract√®res</small>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Priorit√© <span style="color: #ef4444;">*</span></label>
                    {{ form_widget(form.priorite, {'attr': {'class': 'form-control'}}) }}
                </div>

                <div style="display: none;">
                    {{ form_widget(form.statut) }}
                </div>
            </div>
        </div>

        {# BOUTONS #}
        <div style="display: flex; gap: 15px; padding-top: 20px; border-top: 2px solid #f3e8ff;">
            <button type="submit" class="btn btn-primary" style="flex: 1;">
                ‚úì Cr√©er la R√©clamation
            </button>
            
            <a href="{{ path('app_reclamation_index') }}" class="btn btn-secondary" style="flex: 0.3; text-align: center; display: flex; align-items: center; justify-content: center;">
                Annuler
            </a>
        </div>

        {{ form_end(form) }}
    </div>

    {# INFO #}
    <div class="alert alert-info" style="margin-top: 20px;">
        <strong>‚ÑπÔ∏è Information importante</strong><br>
        Une fois votre r√©clamation cr√©√©e, notre √©quipe sera notifi√©e et vous recevrez une r√©ponse dans les plus brefs d√©lais.
    </div>
</div>
{% endblock %}